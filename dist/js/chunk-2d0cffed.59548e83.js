(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cffed"],{"65a9":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},n=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h1",[s._v("JS拖拽")]),e("h2",[s._v("1、原生js")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" drag = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("ele")]),s._v(") ")]),s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" clientX = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" clientY = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" offsetLeft = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" offsetTop = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isDown = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n    ele.onmousedown = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取x坐标和y坐标")]),s._v("\n        clientX = e.clientX;\n        clientY = e.clientY;\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取左部和顶部的偏移量")]),s._v("\n        offsetLeft = ele.offsetLeft;\n        offsetTop = ele.offsetTop;\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//开关打开")]),s._v("\n        isDown = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//设置样式  ")]),s._v("\n        ele.style.cursor = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'move'")]),s._v(";\n    }\n    "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".onmousemove = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (isDown == "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(") {\n            "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(";\n        }\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取x和y")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempClientX = e.clientX;\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempClientY = e.clientY;\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//计算移动后的左偏移量和顶部的偏移量")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempL = tempClientX - (clientX - offsetLeft);\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempT = tempClientY - (clientY - offsetTop);\n        ele.style.left = tempL + "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n        ele.style.top = tempT + "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n    }\n    ele.onmouseup = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//开关关闭")]),s._v("\n        isDown = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n        ele.style.cursor = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'default'")]),s._v(";\n    }\n}\n")])]),e("h3",[s._v("PS：为什么mousemove放在window下？")]),e("p",[s._v("因为当移动鼠标过快，鼠标脱离了绑定元素的范围，绑定的mousemove就会失去响应，元素不动了，鼠标回到元素区域，元素又接着动了。")]),e("h2",[s._v("2、html5")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" drag = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("ele")]),s._v(") ")]),s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" clientX = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" clientY = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" offsetLeft = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" offsetTop = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    ele.ondragstart = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取x坐标和y坐标")]),s._v("\n        clientX = e.clientX;\n        clientY = e.clientY;\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取左部和顶部的偏移量")]),s._v("\n        offsetLeft = ele.offsetLeft;\n        offsetTop = ele.offsetTop;\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//设置样式  ")]),s._v("\n        ele.style.cursor = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'move'")]),s._v(";\n    }\n    ele.ondrag = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取x和y")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempClientX = e.clientX;\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempClientY = e.clientY;\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (tempClientX === "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" || tempClientY === "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(") {\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n        }\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//计算移动后的左偏移量和顶部的偏移量")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempL = tempClientX - (clientX - offsetLeft);\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tempT = tempClientY - (clientY - offsetTop);\n        ele.style.left = tempL + "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n        ele.style.top = tempT + "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'px'")]),s._v(";\n    }\n}\n")])])])}],r=e("2877"),l={},p=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=p.exports}}]);